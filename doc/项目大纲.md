# 飓风内核项目大纲

## 一、目标描述

飓风内核是无相之风战队尝试设计的异步内核简单实现。

针对现代任务时间短、数量较多的特点，我们提出一种新的“异步内核”；它将传统上在用户层提供的“协程”下沉到内核，通过“共享调度器”的方案提高速度，进而在内核态提供一种针对协程的支持机制。我们期望通过这种全新设计的内核，同时满足传统操作系统的易用性，和专有操作系统的高性能特点，进而总体地提高现代应用的运行效率。

本次的任务将使用Rust语言的异步特性，在RISC-V平台上设计一个异步内核。这个内核将统一不同空间的任务调度器，共同作用于线程或协程的调度。通过这种方法，提高操作系统的整体性能。

## 二、比赛题目分析和相关资料调研

比赛的题目要求我们在rCore系统设计的基础上，学习Rust语言的异步特性，利用这一特性进一步

/*

操作系统内核经历了几个主要的发展阶段，从裸机应用、批处理系统到多道任务系统，演变为至今主流的线程操作系统。这种系统基于线程的切换来调度任务；为了提升它的性能，有一些语言和编程架构，在应用层复用线程资源，提出了“协程”的概念，节省任务调度的开销。本次的作品中我们提出一个新的思想：由不同资源共享调度器，在操作系统层面提供协程。

在现有 rCore 的基础上，进一步完成如下目标：

学习Rust语言：rust语言有协程的支持，可以把异步函数执行视为基本的调度单位（协程），然后由编译器生成这些协程的调度代码。

完成教学操作系统rCore的实验：目的是熟悉rCore的基本结构和核心算法的实现；

基于对异步操作系统设计方案的了解，在用户态进程中引入协程支持，同时支持用户态线程；

分析用户态进程中的线程和协程的相关数据结构：可能要实现就绪协程的队列和就绪线程的队列，然后实现协程切换和线程切换的统一。

尝试在用户态统一线程和协程的调度；

同一线程内的协程切换：rust语言中，在用户态下同一线程内的协程切换的实现已经存在相应的开源用户态线程库。
同一进程内不同线程中的协程切换：不同线程中的协程切换，就要获取协程所在的线程信息，然后进行现成的切换。
不同进程内的协程切换：不同进程中的协程切换，就要获取协程所在的线程和进程信息，然后进行进程的切换。

在内核中引入协程支持，同时支持线程切换和协和协程切换；

了解内核中协程的调度机制，分析协程相关数据结构；

尝试在内核中统一进程、线程和协程的调度；

利用协程机制优化内核中的文件系统模块；

对比测试引入协程前后的应用程序性能变化；
*/

## 三、系统框架设计

## 四、开发计划

## 五、比赛过程中的重要进展

## 六、系统测试情况

## 七、遇到的主要问题和解决方法

## 八、分工和协作

## 九、提交仓库目录和文件描述

## 十、比赛收获
